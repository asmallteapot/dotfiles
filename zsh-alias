# Send a growl notification after a long–running command finishes
function alert() {
    "$@" && growlnotify -a iTerm -m "Completed with exit code $?" "$@";
}


# Count lines
alias count="sort | uniq -c | sort -n"

# One Command To Rule Them All
alias edit=$EDITOR

# Flush DNS cache (Mac OS X)
alias flushdns="dscacheutil -flushcache"
alias dnsflush="flushdns"


# Clear (auto)corrections cache
alias fix-autocorrect='hash -rf'


# GitHub–Git integration
[[ -x `which hub` ]] && alias git=hub


# Update git repo, and all submodules
alias gitup="git submodule foreach 'git fetch origin --tags; git checkout master; git pull' && git pull && git submodule update --init --recursive"


# Edit the hosts file
alias hosts="edit /etc/hosts"


# Get the IP address for a domain
function ipfor(){
	dig +short $1 | grep -E '^[0-9.]+$' | head -1
}


# Directory listing
alias la="ls -lap"


# Show trailing slash for directories
alias ls='ls -p'


# CD to projects
function p {
	cd ~/Projects/$1;
}


# Fix and shrink png files. Pass infile and outfile.
alias pngfix="pngcrush -rem gAMA -rem cHRM -rem iCCP -rem sRGB $1 $2"


# Quick look a file.
alias quicklook='qlmanage -p "$@" >& /dev/null'
alias al=quicklook


# Reload Zsh config.
alias reload='source ~/.zshrc'


# `repeatchar x 10` => `xxxxxxxxxx`
repeatchar(){ printf "%${2}s" "" | tr " " $1; }


# Very lazy shortcuts.
alias be='bundle exec'
alias g=git
alias gu=gitup
alias r=rails
alias vbm=VBoxManage


# Fucking Xcode.
# http://www.mikeash.com/pyblog/solving-simulator-bootstrap-errors.html
alias xcode="open *.xcodeproj"
alias xcode-unfuck-bootstrap="launchctl list|grep UIKitApplication|awk '{print $3}'|xargs launchctl remove"
# http://inessential.com/2012/04/23/ded
alias xcode-unfuck-deriveddata="rm -rf ~/Library/Developer/Xcode/DerivedData"
